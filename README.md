# Startify-App

Startify-Appは、AI駆動の開発に対応するために設計されたウェブアプリケーション・ウェブサイトの開発環境です。DockerやNode.jsを使用して、バックエンドとフロントエンドに対応する、さまざまなフレームワークを用いた開発環境を構築します。

フレームワークごとにウェブプリケーションに必要となる基本的な機能を実装したコードが初期状態で備わっていますが、開発環境の構築手順やアプリケーションの概要を記載した各種手順書などを活用することで、新たな機能の実装や開発環境の拡張をAIを活用したコーディングによって効率的に進めることができます。

## 実装済み機能

Startify-Appには、Webアプリケーション開発に必要な基本的な機能がデモとして実装されています。これらの機能をベースに、AIを活用した開発を効率的に進めることができます。

- Docker
  - Nginx
  - PHP
  - MySQL(MariaDB)
  - Mailpit
- Laravel
  - ログイン認証（通常ユーザー・管理者ユーザー）
  - パスワードリセット
  - ユーザー新規登録（通常ユーザー）
  - ユーザー情報編集・更新（通常ユーザー・管理者ユーザー）
  - 自動返信メール対応のコンタクトフォーム
- WordPress
  - クラシックテーマ
    - 投稿機能

## 導入

### 1. Docker環境構築

用意された各種Dockerfileを使用してDockerコンテナーを起動します。

```bash
cd ./server

# ビルド
make build

# コンテナーの起動
make up
```

### 2. Laravelのインストール・セットアップ

Dockerコンテナーが起動後、Laravelのインストール・セットアップを行います。

```bash
cd ./server

# Composerインストール
make laravel-install

# キー生成
make laravel-keygen

# ストレージリンク設定
make laravel-storage-link
make laravel-storage-link-change

# マイグレーション
make laravel-migrate
```

### 3. WordPressのインストール・セットアップ

Dockerコンテナーが起動後、WordPressのインストール・セットアップを行います。

```bash
cd ./server

# WordPressのインストール・セットアップ
make wp-setup

# シンボリックリンク・エントリーポイント設定
make wp-symlinks
make wp-entrypoint
```

---

## AI駆動開発

ここでは、Cursorを使用したAI駆動開発の方法を例にしています。

### Dockerローカル環境構築

#### 1. Project Rules の参照確認

下記のプロンプトを入力し、関連する仕様書ドキュメントが参照されているかを確認します。ドキュメントに記載されたルールが出力されていればOKです。

```
これからウェブアプリケーションのローカル開発環境の構築を行います。作業を進めるうえで重要なルールを確認してください。この情報は、AIに指示を出す際のプロンプトの例です。指示をより正確に伝えるために、必要に応じて内容を確認し、理解を深めてください。
```

#### 2. 環境構築

##### 2.1 環境構築に必要なタスクの洗い出し

ローカル開発環境の構築について、Cursorに具体的なタスクを洗い出してもらいます。下記のプロンプトを例に指示を進めます。

```
これから、Dockerを使ったローカル開発環境の構築をします。まず、ローカル開発環境の構築に必要なタスクを洗い出してください。この情報は、AIに機能実装のコード生成を依頼する際のプロンプトの例です。タスクを明確にすることで、AIがより正確にコードを生成できるようにしてください。
```

洗い出されたタスクを、`/specifications/server/docker/[TASK_FILE_NAME].md` ファイルなどの機能実装手順のドキュメントに追記し、更新します。

##### 2.2 Dockerfileの作成、コンテナー起動

タスクが追記された更新済みである機能実装手順のドキュメントを読み込み、Cursorにタスク作業を依頼します。下記のプロンプトを例に指示を進めます。タスクが複雑であったり多い場合には、タスクを分割して1つのタスクずつコードを生成することで進めやすくなります。

- Add Context
  1. `/specifications/server/docker/[TASK_FILE_NAME].md`

```
提示されたタスクをドキュメントに追記しました、更新されたドキュメントを読み込み、環境構築を進めていきます。まず、＊＊＊＊＊の作業タスクに必要なファイルならびにコードを提示してください。このプロンプトは、AIに具体的なコード生成を依頼する際の例です。タスクを明確にすることで、AIがより正確にコードを生成できるようにしてください。
```

生成されたファイルやコードを確認し、必要があれば修正の指示を出します。問題なければ生成されたファイルやコードを反映し、次のタスクに進みます。

##### 2.3 各種アプリケーションソースファイルのインストール、セットアップ

Dockerコンテナー起動後は、開発を進めるなかで必要となる各種アプリケーションソースファイルのインストールやセットアップを進めていく。

---

### バックエンド・フロントエンド開発

#### 1. Project Rules の参照確認

下記のプロンプトを入力し、関連する仕様書ドキュメントが参照されているかを確認します。ドキュメントに記載されたルールが出力されていればOKです。

```
これからウェブアプリケーションの開発を行います。作業を進めるうえで重要なルールを確認してください。この情報は、AIに指示を出す際のプロンプトの例です。指示をより正確に伝えるために、必要に応じて内容を確認し、理解を深めてください。
```

#### 2. 機能実装

##### 2.1 実装に必要なタスクの洗い出し

実装したい機能について、Cursorに具体的なタスクを洗い出してもらいます。下記のプロンプトを例に指示を進めます。

```
これから、＊＊＊＊＊の機能を実装します。まず、＊＊＊＊＊の機能を実装するために必要なタスクを洗い出してください。この情報は、AIに機能実装のコード生成を依頼する際のプロンプトの例です。タスクを明確にすることで、AIがより正確にコードを生成できるようにしてください。
```

洗い出されたタスクを、`/specifications/backend/[PROJECT_NAME]/[TASK_FILE_NAME].md` ファイルなどの機能実装手順のドキュメントに追記し、更新します。

##### 2.2 コード生成、機能実装

タスクが追記された更新済みである機能実装手順のドキュメントを読み込み、Cursorにタスク作業を依頼します。下記のプロンプトを例に指示を進めます。タスクが複雑であったり多い場合には、タスクを分割して1つのタスクずつコードを生成することで進めやすくなります。

- Add Context
  1. `/specifications/backend/[PROJECT_NAME]/[TASK_FILE_NAME].md`
  2. その他生成するコードに関連するファイルなど

```
提示されたタスクをドキュメントに追記しました、更新されたドキュメントを読み込み、機能実装を進めていきます。まず、＊＊＊＊＊のタスクに必要なコードを提示してください。このプロンプトは、AIに具体的なコード生成を依頼する際の例です。タスクを明確にすることで、AIがより正確にコードを生成できるようにしてください。
```

生成されたコードを確認し、必要があれば修正の指示を出します。問題なければ生成されたコードを反映し、次のタスクに進みます。

---

### UIデザイン制作

#### 1. Project Rules の参照確認

下記のプロンプトを入力し、関連する仕様書ドキュメントが参照されているかを確認します。ドキュメントに記載されたルールが出力されていればOKです。

```
これからウェブアプリケーションの画面やUIデザイン制作を行います。作業を進めるうえで重要なルールを確認してください。この情報は、AIに指示を出す際のプロンプトの例です。指示をより正確に伝えるために、必要に応じて内容を確認し、理解を深めてください。
```

#### 2. UIデザイン実装

##### 2.1 画面レイアウトの作成

まずは、UIコンポーネントが配置されるエリアとなるベースレイアウトを作成します。下記のプロンプトを例に、指示を進めます。

- Add Context
  1. `/specifications/frontend/[PROJECT_NAME]/[TASK_FILE_NAME].md`
  2. その他生成するコードに関連するファイルなど

```
これから、画面全体のレイアウトを作成します。ルールに基づき、HTMLファイルを新規作成します。コーディング方針のルールとタスクに沿って、まずは必要なコードを提示してください。このプロンプトは、AIに具体的なコード生成を依頼する際の例です。タスクを明確にすることで、AIがより正確にコードを生成できるようにしてください。
```

##### 2.2 UIコンポーネントの作成

画面の基本レイアウトができたら、UIコンポーネントを作成します。下記のプロンプトを例に、指示を進めます。

- Add Context
  1. `/specifications/frontend/[PROJECT_NAME]/[TASK_FILE_NAME].md`
  2. その他生成するコードに関連するファイルなど

```
＊＊＊＊＊のタスクに必要なコードを提示してください。このプロンプトは、AIに具体的なコード生成を依頼する際の例です。タスクを明確にすることで、AIがより正確にコードを生成できるようにしてください。
```

---

## 備考

- 開発環境概要については `/.cursor/rules/env-overview.mdc` のファイルを参照ください。
- 開発環境で使用される変数は `/server/.env` で管理できます。
- この開発環境では、Laravel、WordPressのアプリケーションディレクトリがドキュメントルート外にインストールされる形になります。
