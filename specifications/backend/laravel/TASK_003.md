---
title: バックエンド実装タスクリスト（Laravel）:一般ユーザーログイン機能の実装
id: laravel_task_003
version: 1.0.0
last_updated: 2025-03-03
purpose: AI支援による開発環境構築のための仕様書
target_readers: ウェブエンジニア（バックエンド、フロントエンド）、UIデザイナー
---

# バックエンド実装タスクリスト（Laravel）:一般ユーザーログイン機能の実装

一般ユーザー用のメールアドレスとパスワードを用いたログイン機能を実装します。

---

## 1. ログイン画面のビューを作成

一般ユーザーログインフォームを表示させるページのビューを作成します。

- ビュー
  - パス: `backend/laravel/resources/views/pages/signin/index.blade.php`
- 機能仕様
  - 画面上にはメールアドレスとパスワードを入力するフォームを表示します
  - 画面内にはログインボタンを設置し、ログインできるようにします
  - 画面内にはパスワードリセット用のリンクを設置します

---

## 2. ログイン画面のルーティングを作成

一般ユーザーログインのルーティングを作成します。

- ルーティング（ログイン画面表示）
  - パス: `/signin`
  - メソッド: `GET`
  - ルート名: `signin`
- ルーティング（ログイン処理）
  - パス: `/signin/auth`
  - メソッド: `POST`
  - ルート名: `signin.auth`

---

## 3. ログイン画面のコントローラーを作成

ログイン画面のコントローラーを作成します。Authファサードを使用して、ログイン認証に必要な設定を行います。必要に応じてバリデーション処理も実装します。

- コントローラー（ログイン画面表示）
  - クラス: `SigninController`
  - メソッド: `index`
- コントローラー（ログイン処理）
  - クラス: `SigninController`
  - メソッド: `signIn`
- 機能仕様
  - ログイン成功時には `/home` にリダイレクトします
  - ログイン成功時にはセッションを作成し、ログイン情報をセッションに保存します
  - ログイン失敗時には `/signin` にリダイレクトし、エラーメッセージを表示します

---

## 4. ログイン後のリダイレクト先画面を作成

ログイン成功時にリダイレクトされる画面を作成します。

- ルーティング
  - パス: `/home`
  - メソッド: `GET`
  - ルート名: `home`
- コントローラー
  - クラス: `HomeController`
  - メソッド: `index`
- ビュー
  - パス: `backend/laravel/resources/views/pages/home/index.blade.php`
- 機能仕様
  - 画面上にはログイン成功後のメッセージを表示します
  - 画面内にはログアウトボタンを設置し、ログアウトできるようにします
  - 未認証の場合には `/signin` にリダイレクトします

---

## 5. ログアウト処理の実装

ログアウト処理を実装します。

- ルーティング
  - パス: `/signout`
  - メソッド: `POST`
  - ルート名: `signout`
- コントローラー
  - クラス: `SignoutController`
  - メソッド: `signOut`
- 機能仕様
  - ログアウトボタンをクリックすると、セッションを破棄します
  - ログアウト後には `/signin` にリダイレクトします

---

## 6. シーダーを実行しテストとユーザーを作成、ログインテスト

シーダーを実行しテストとユーザーを作成、ログインテストを行います。

- シーダー
  - パス: `backend/laravel/database/seeders/UserSeeder.php`
  - クラス: `UserSeeder`
- テストユーザー
  - 1
    - 名前: `テスト 太郎`
    - メールアドレス: `test@example.com`
    - パスワード: `password`
  - 2
    - 名前: `テスト 花子`
    - メールアドレス: `sample@example.com`
    - パスワード: `qwerty`
- 機能仕様
  - シーダーは、`backend/laravel/database/seeders/DatabaseSeeder.php` のメソッドを使用し、一括で実行できるようにします
  - テストユーザーは複数のユーザーをバルクインサートします

---
